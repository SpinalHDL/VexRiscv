/*! wavedrom 2018-02-02 */

!function e(t,r,n){function s(a,i){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!i&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[a]={exports:{}};t[a][0].call(u.exports,function(e){var r=t[a][1][e];return s(r||e)},u,u.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(e,t,r){"use strict";t.exports=function(e,t){var r,n;function s(e){var t=parseInt(n.style.left,10),r=parseInt(n.style.top,10);(e.x<t||e.x>t+n.offsetWidth||e.y<r||e.y>r+n.offsetHeight)&&(n.parentNode.removeChild(n),document.body.removeEventListener("mousedown",s,!1))}(r=document.getElementById(t+e)).childNodes[0].addEventListener("contextmenu",function(o){var a,i,l;(n=document.createElement("div")).className="wavedromMenu",n.style.top=o.y+"px",n.style.left=o.x+"px",a=document.createElement("ul"),(i=document.createElement("li")).innerHTML="Save as PNG",a.appendChild(i),(l=document.createElement("li")).innerHTML="Save as SVG",a.appendChild(l),n.appendChild(a),document.body.appendChild(n),i.addEventListener("click",function(){var o,a,i,l,c,u,d;o="",0!==e&&(o+=(a=document.getElementById(t+0)).innerHTML.substring(166,a.innerHTML.indexOf('<g id="waves_0">'))),o=[r.innerHTML.slice(0,166),o,r.innerHTML.slice(166)].join(""),i="data:image/svg+xml;base64,"+btoa(o),(l=new Image).src=i,(c=document.createElement("canvas")).width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0),u=c.toDataURL("image/png"),(d=document.createElement("a")).href=u,d.download="wavedrom.png",d.click(),n.parentNode.removeChild(n),document.body.removeEventListener("mousedown",s,!1)},!1),l.addEventListener("click",function(){var o,a,i,l;o="",0!==e&&(o+=(a=document.getElementById(t+0)).innerHTML.substring(166,a.innerHTML.indexOf('<g id="waves_0">'))),o=[r.innerHTML.slice(0,166),o,r.innerHTML.slice(166)].join(""),i="data:image/svg+xml;base64,"+btoa(o),(l=document.createElement("a")).href=i,l.download="wavedrom.svg",l.click(),n.parentNode.removeChild(n),document.body.removeEventListener("mousedown",s,!1)},!1),n.addEventListener("contextmenu",function(e){e.preventDefault()},!1),document.body.addEventListener("mousedown",s,!1),o.preventDefault()},!1)}},{}],2:[function(e,t,r){"use strict";var n=e("./jsonml-parse");t.exports=n},{"./jsonml-parse":15}],3:[function(e,t,r){"use strict";var n=e("./eva"),s=e("./render-wave-form");t.exports=function(){s(0,n("InputJSON_0"),"WaveDrom_Display_")}},{"./eva":4,"./render-wave-form":29}],4:[function(require,module,exports){"use strict";function eva(id){var TheTextBox,source;function erra(e){return{signal:[{name:["tspan",["tspan",{class:"error h5"},"Error: "],e.message]}]}}if(TheTextBox=document.getElementById(id),TheTextBox.type&&"textarea"===TheTextBox.type)try{source=eval("("+TheTextBox.value+")")}catch(e){return erra(e)}else try{source=eval("("+TheTextBox.innerHTML+")")}catch(e){return erra(e)}if("[object Object]"!==Object.prototype.toString.call(source))return erra({message:'[Semantic]: The root has to be an Object: "{signal:[...]}"'});if(source.signal){if("[object Array]"!==Object.prototype.toString.call(source.signal))return erra({message:'[Semantic]: "signal" object has to be an Array "signal:[]"'})}else if(source.assign){if("[object Array]"!==Object.prototype.toString.call(source.assign))return erra({message:'[Semantic]: "assign" object hasto be an Array "assign:[]"'})}else if(!source.reg)return erra({message:'[Semantic]: "signal:[...]" or "assign:[...]" property is missing inside the root Object'});return source}module.exports=eva},{}],5:[function(e,t,r){"use strict";t.exports=function(e){var t=0,r=0,n=[];return e.forEach(function(e){"vvv-2"===e||"vvv-3"===e||"vvv-4"===e||"vvv-5"===e?r+=1:0!==r&&(n.push(t-(r+1)/2),r=0),t+=1}),0!==r&&n.push(t-(r+1)/2),n}},{}],6:[function(e,t,r){"use strict";t.exports=function(e,t,r){var n,s,o=[];if(4===e.length){for(s=0;s<r;s+=1){for(o.push(e[0]),n=0;n<t;n+=1)o.push(e[1]);for(o.push(e[2]),n=0;n<t;n+=1)o.push(e[3])}return o}for(1===e.length&&e.push(e[0]),o.push(e[0]),n=0;n<r*(2*(t+1))-1;n+=1)o.push(e[1]);return o}},{}],7:[function(e,t,r){"use strict";var n=e("./gen-brick");t.exports=function(e,t,r){var s;switch(s=[],e){case"p":s=n(["pclk","111","nclk","000"],t,r);break;case"n":s=n(["nclk","000","pclk","111"],t,r);break;case"P":s=n(["Pclk","111","nclk","000"],t,r);break;case"N":s=n(["Nclk","000","pclk","111"],t,r);break;case"l":case"L":case"0":s=n(["000"],t,r);break;case"h":case"H":case"1":s=n(["111"],t,r);break;case"=":case"2":s=n(["vvv-2"],t,r);break;case"3":s=n(["vvv-3"],t,r);break;case"4":s=n(["vvv-4"],t,r);break;case"5":s=n(["vvv-5"],t,r);break;case"d":s=n(["ddd"],t,r);break;case"u":s=n(["uuu"],t,r);break;case"z":s=n(["zzz"],t,r);break;default:s=n(["xxx"],t,r)}return s}},{"./gen-brick":6}],8:[function(e,t,r){"use strict";var n=e("./gen-brick");t.exports=function(e,t,r){var s,o,a,i,l,c,u,d,f,h,m,p,x,g;return s={p:"pclk",n:"nclk",P:"Pclk",N:"Nclk",h:"pclk",l:"nclk",H:"Pclk",L:"Nclk"},o={0:"0",1:"1",x:"x",d:"d",u:"u",z:"z","=":"v",2:"v",3:"v",4:"v",5:"v"},a={0:"",1:"",x:"",d:"",u:"",z:"","=":"-2",2:"-2",3:"-3",4:"-4",5:"-5"},i={p:"0",n:"1",P:"0",N:"1",h:"1",l:"0",H:"1",L:"0",0:"0",1:"1",x:"x",d:"d",u:"u",z:"z","=":"v",2:"v",3:"v",4:"v",5:"v"},l={p:"",n:"",P:"",N:"",h:"",l:"",H:"",L:"",0:"",1:"",x:"",d:"",u:"",z:"","=":"-2",2:"-2",3:"-3",4:"-4",5:"-5"},c={p:"nclk",n:"pclk",P:"nclk",N:"pclk"},u={p:"000",n:"111",P:"000",N:"111"},d={hp:"111",Hp:"111",ln:"000",Ln:"000",nh:"111",Nh:"111",pl:"000",Pl:"000"},h={p:"111",n:"000",P:"111",N:"000",h:"111",l:"000",H:"111",L:"000",0:"000",1:"111",x:"xxx",d:"ddd",u:"uuu",z:"zzz","=":"vvv-2",2:"vvv-2",3:"vvv-3",4:"vvv-4",5:"vvv-5"}[(f=e.split(""))[1]],void 0===(m=s[f[1]])?void 0===(p=o[f[1]])?n(["xxx"],t,r):(x=i[f[0]],n(void 0===x?["xxx"]:[x+"m"+p+l[f[0]]+a[f[1]],h],t,r)):(void 0!==(g=d[e])&&(m=g),p=c[f[1]],n(void 0===p?[m,h]:[m,h,p,u[f[1]]],t,r))}},{"./gen-brick":6}],9:[function(e,t,r){"use strict";var n=e("./process-all"),s=e("./eva"),o=e("./render-wave-form"),a=e("./editor-refresh");t.exports={processAll:n,eva:s,renderWaveForm:o,editorRefresh:a}},{"./editor-refresh":3,"./eva":4,"./process-all":21,"./render-wave-form":29}],10:[function(e,t,r){"use strict";var n=e("./create-element"),s=e("./w3");t.exports=function(e,t){for(var r,o;t.childNodes.length;)t.removeChild(t.childNodes[0]);o=["svg",{id:"svgcontent_"+e,xmlns:s.svg,"xmlns:xlink":s.xlink,overflow:"hidden"},["style",".pinname {font-size:12px; font-style:normal; font-variant:normal; font-weight:500; font-stretch:normal; text-align:center; text-anchor:end; font-family:Helvetica} .wirename {font-size:12px; font-style:normal; font-variant:normal; font-weight:500; font-stretch:normal; text-align:center; text-anchor:start; font-family:Helvetica} .wirename:hover {fill:blue} .gate {color:#000; fill:#ffc; fill-opacity: 1;stroke:#000; stroke-width:1; stroke-opacity:1} .gate:hover {fill:red !important; } .wire {fill:none; stroke:#000; stroke-width:1; stroke-opacity:1} .grid {fill:#fff; fill-opacity:1; stroke:none}"]],r=n(o),t.insertBefore(r,null)}},{"./create-element":2,"./w3":31}],11:[function(e,t,r){"use strict";var n=e("./create-element"),s=e("./w3"),o=e("./wave-skin");t.exports=function(e,t,r,a){for(var i,l,c;t.childNodes.length;)t.removeChild(t.childNodes[0]);for(l in o)break;c=o.default||o[l],r&&r.config&&r.config.skin&&o[r.config.skin]&&(c=o[r.config.skin]),0===e?(a.xs=Number(c[3][1][2][1].width),a.ys=Number(c[3][1][2][1].height),a.xlabel=Number(c[3][1][2][1].x),a.ym=Number(c[3][1][2][1].y)):c=["svg",{id:"svg",xmlns:s.svg,"xmlns:xlink":s.xlink,height:"0"},["g",{id:"waves"},["g",{id:"lanes"}],["g",{id:"groups"}]]],c[c.length-1][1].id="waves_"+e,c[c.length-1][2][1].id="lanes_"+e,c[c.length-1][3][1].id="groups_"+e,c[1].id="svgcontent_"+e,c[1].height=0,i=n(c),t.insertBefore(i,null)}},{"./create-element":2,"./w3":31,"./wave-skin":33}],12:[function(e,t,r){"use strict";var n={rowspan:"rowSpan",colspan:"colSpan",cellpadding:"cellPadding",cellspacing:"cellSpacing",tabindex:"tabIndex",accesskey:"accessKey",hidefocus:"hideFocus",usemap:"useMap",maxlength:"maxLength",readonly:"readOnly",contenteditable:"contentEditable"},s={enctype:"encoding",onscroll:"DOMMouseScroll"},o=function(e){for(var t,r={};e.length;)r["on"+(t=e.shift()).toLowerCase()]=t;return r}("blur,change,click,dblclick,error,focus,keydown,keypress,keyup,load,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,resize,scroll,select,submit,unload".split(","));function a(e,t,r){"string"==typeof r&&(r=new Function("event",r)),"function"==typeof r&&(e[t]=r)}t.exports=function(e,t){if(t.name&&document.attachEvent)try{var r=document.createElement("<"+e.tagName+" name='"+t.name+"'>");e.tagName===r.tagName&&(e=r)}catch(e){console.log(e)}for(var i in t)if(t.hasOwnProperty(i)){var l=t[i];i&&null!==l&&void 0!==l&&("style"===(i=n[i.toLowerCase()]||i)?void 0!==e.style.cssText?e.style.cssText=l:e.style=l:o[i]?(a(e,i,l),s[i]&&a(e,s[i],l)):"string"==typeof l||"number"==typeof l||"boolean"==typeof l?(e.setAttribute(i,l),s[i]&&e.setAttribute(s[i],l)):(e[i]=l,s[i]&&(e[s[i]]=l)))}return e}},{}],13:[function(e,t,r){"use strict";t.exports=function(e,t){t&&(e.tagName&&"style"===e.tagName.toLowerCase()&&document.createStyleSheet?e.cssText=t:!1!==e.canHaveChildren&&e.appendChild(t))}},{}],14:[function(e,t,r){"use strict";var n=e("./jsonml-trim-whitespace");t.exports=function(e){var t=document.createElement("div");if(t.innerHTML=e,n(t),1===t.childNodes.length)return t.firstChild;for(var r=document.createDocumentFragment?document.createDocumentFragment():document.createElement("");t.firstChild;)r.appendChild(t.firstChild);return r}},{"./jsonml-trim-whitespace":16}],15:[function(e,t,r){"use strict";var n,s,o=e("./jsonml-hydrate"),a=e("./w3"),i=e("./jsonml-append-child"),l=e("./jsonml-add-attributes"),c=e("./jsonml-trim-whitespace");function u(e,t,r){return document.createTextNode("["+e+"-"+r+"]")}n=function(e,t,r){for(var n=1;n<t.length;n++)t[n]instanceof Array||"string"==typeof t[n]?i(e,s(t[n],r)):t[n]&&t[n].value?i(e,o(t[n].value)):"object"==typeof t[n]&&null!==t[n]&&1===e.nodeType&&(e=l(e,t[n]));return e},s=function(e,t){var r,l;try{if(!e)return null;if("string"==typeof e)return document.createTextNode(e);if(e&&e.value)return o(e.value);if(!((l=e)instanceof Array&&"string"==typeof l[0]))throw new SyntaxError("invalid JsonML");var d=e[0];if(!d){for(var f=document.createDocumentFragment?document.createDocumentFragment():document.createElement(""),h=2;h<e.length;h++)i(f,s(e[h],t));return c(f),1===f.childNodes.length?f.firstChild:f}return"style"===d.toLowerCase()&&document.createStyleSheet?(n(document.createStyleSheet(),e,t),null):(r=n(document.createElementNS(a.svg,d),e,t),c(r),r)}catch(r){try{return u(r,e,t)}catch(e){return document.createTextNode("["+e+"]")}}},t.exports=s},{"./jsonml-add-attributes":12,"./jsonml-append-child":13,"./jsonml-hydrate":14,"./jsonml-trim-whitespace":16,"./w3":31}],16:[function(e,t,r){"use strict";function n(e){return e&&3===e.nodeType&&(!e.nodeValue||!/\S/.exec(e.nodeValue))}t.exports=function(e){if(e){for(;n(e.firstChild);)e.removeChild(e.firstChild);for(;n(e.lastChild);)e.removeChild(e.lastChild)}}},{}],17:[function(e,t,r){"use strict";t.exports={xs:20,ys:20,xg:120,yh0:0,yh1:0,yf0:0,yf1:0,y0:5,yo:30,tgo:-10,ym:15,xlabel:6,xmax:1,scale:1,head:{},foot:{}}},{}],18:[function(e,t,r){"use strict";t.exports=function(e,t){var r,n;t.hscale=1,t.hscale0&&(t.hscale=t.hscale0),e&&e.config&&e.config.hscale&&(r=Math.round((n=e.config.hscale)>0?Math.round(n):1))>0&&(r>100&&(r=100),t.hscale=r),t.yh0=0,t.yh1=0,t.head=e.head,t.xmin_cfg=0,t.xmax_cfg=1e12,e&&e.config&&e.config.hbounds&&2==e.config.hbounds.length&&(e.config.hbounds[0]=Math.floor(e.config.hbounds[0]),e.config.hbounds[1]=Math.ceil(e.config.hbounds[1]),e.config.hbounds[0]<e.config.hbounds[1]&&(t.xmin_cfg=2*Math.floor(e.config.hbounds[0]),t.xmax_cfg=2*Math.floor(e.config.hbounds[1]))),e&&e.head&&((e.head.tick||0===e.head.tick||e.head.tock||0===e.head.tock)&&(t.yh0=20),(e.head.tick||0===e.head.tick)&&(e.head.tick=e.head.tick+t.xmin_cfg/2),(e.head.tock||0===e.head.tock)&&(e.head.tock=e.head.tock+t.xmin_cfg/2),e.head.text&&(t.yh1=46,t.head.text=e.head.text)),t.yf0=0,t.yf1=0,t.foot=e.foot,e&&e.foot&&((e.foot.tick||0===e.foot.tick||e.foot.tock||0===e.foot.tock)&&(t.yf0=20),(e.foot.tick||0===e.foot.tick)&&(e.foot.tick=e.foot.tick+t.xmin_cfg/2),(e.foot.tock||0===e.foot.tock)&&(e.foot.tock=e.foot.tock+t.xmin_cfg/2),e.foot.text&&(t.yf1=46,t.foot.text=e.foot.text))}},{}],19:[function(e,t,r){"use strict";var n=e("./gen-first-wave-brick"),s=e("./gen-wave-brick"),o=e("./find-lane-markers");t.exports=function(e,t,r){var a,i,l,c,u,d,f=[],h=[],m=[];for(l=(f=e.split("")).shift(),u=!1,a=1;"."===f[0]||"|"===f[0];)f.shift(),a+=1;for(h=h.concat(n(l,t,a));f.length;){for(i=l,"<"===(l=f.shift())&&(u=!0,l=f.shift()),">"===l&&(u=!1,l=f.shift()),a=1;"."===f[0]||"|"===f[0];)f.shift(),a+=1;h=u?h.concat(s(i+l,0,a-r.period)):h.concat(s(i+l,t,a))}for(c=0;c<r.phase;c+=1)m.push(h.shift());return m.length>0?(d=o(m).length,1==o([m[m.length-1]]).length&&1==o([h[0]]).length&&(d-=1)):d=0,[h,d]}},{"./find-lane-markers":5,"./gen-first-wave-brick":7,"./gen-wave-brick":8}],20:[function(e,t,r){"use strict";var n=e("./parse-wave-lane");t.exports=function(e,t){var r,s,o,a,i,l,c,u=[],d=[];for(r in e)s=e[r],t.period=s.period?s.period:1,t.phase=(s.phase?2*s.phase:0)+t.xmin_cfg,u.push([]),d[0]=s.name||" ",d[1]=(s.phase||0)+t.xmin_cfg/2,s.wave?(o=(a=n(s.wave,t.period*t.hscale-1,t))[0],i=a[1]):o=null,u[u.length-1][0]=d.slice(0),u[u.length-1][1]=o,u[u.length-1][2]=(l=i,c=void 0,void 0===(c=s.data)?null:("string"==typeof c&&(c=c.split(" ")),c=c.slice(l)));return u}},{"./parse-wave-lane":19}],21:[function(e,t,r){"use strict";var n=e("./eva"),s=e("./append-save-as-dialog"),o=e("./render-wave-form");t.exports=function(){var e,t,r,a;for(r=0,e=document.querySelectorAll("*"),t=0;t<e.length;t++)e.item(t).type&&"WaveDrom"===e.item(t).type&&(e.item(t).setAttribute("id","InputJSON_"+r),(a=document.createElement("div")).id="WaveDrom_Display_"+r,e.item(t).parentNode.insertBefore(a,e.item(t)),r+=1);for(t=0;t<r;t+=1)o(t,n("InputJSON_"+t),"WaveDrom_Display_"),s(t,"WaveDrom_Display_");document.head.innerHTML+='<style type="text/css">div.wavedromMenu{position:fixed;border:solid 1pt#CCCCCC;background-color:white;box-shadow:0px 10px 20px #808080;cursor:default;margin:0px;padding:0px;}div.wavedromMenu>ul{margin:0px;padding:0px;}div.wavedromMenu>ul>li{padding:2px 10px;list-style:none;}div.wavedromMenu>ul>li:hover{background-color:#b5d5ff;}</style>'}},{"./append-save-as-dialog":1,"./eva":4,"./render-wave-form":29}],22:[function(e,t,r){"use strict";t.exports=function e(t,r){var n,s,o={},a={x:10};for("string"!=typeof t[0]&&"number"!=typeof t[0]||(s=t[0],a.x=25),r.x+=a.x,n=0;n<t.length;n++)"object"==typeof t[n]&&("[object Array]"===Object.prototype.toString.call(t[n])?(o.y=r.y,(r=e(t[n],r)).groups.push({x:r.xx,y:o.y,height:r.y-o.y,name:r.name})):(r.lanes.push(t[n]),r.width.push(r.x),r.y+=1));return r.xx=r.x,r.x-=a.x,r.name=s,r}},{}],23:[function(e,t,r){"use strict";var n=e("tspan"),s=e("./create-element"),o=e("./w3");t.exports=function(e,t,r,a,i){var l,c,u,d,f,h,m,p,x,g,v,y,b,w,k,N,A=[],_={words:[],from:0,shape:"",to:0,label:""},E={};if(t){for(c in t)if(i.period=t[c].period?t[c].period:1,i.phase=(t[c].phase?2*t[c].phase:0)+i.xmin_cfg,d=t[c].node)for(A=d.split(""),f=0;A.length;)"."!==(h=A.shift())&&(E[h]={x:i.xs*(2*f*i.period*i.hscale-i.phase)+i.xlabel,y:c*i.yo+i.y0+.5*i.ys}),f+=1;if((l=document.createElementNS(o.svg,"g")).id="wavearcs_"+r,e.insertBefore(l,null),a.edge)for(c in a.edge)if(_.words=a.edge[c].split(" "),_.label=a.edge[c].substring(_.words[0].length),_.label=_.label.substring(1),_.from=_.words[0].substr(0,1),_.to=_.words[0].substr(-1,1),_.shape=_.words[0].slice(1,-1),x=E[_.from],g=E[_.to],x&&g&&((k=document.createElementNS(o.svg,"path")).id="gmark_"+_.from+"_"+_.to,k.setAttribute("d","M "+x.x+","+x.y+" "+g.x+","+g.y),k.setAttribute("style","fill:none;stroke:#00F;stroke-width:1"),l.insertBefore(k,null)),x&&g){switch(_.label&&((m=n.parse(_.label)).unshift("text",{style:"font-size:10px;","text-anchor":"middle","xml:space":"preserve"}),m=s(m),p=s(["rect",{height:9,style:"fill:#FFF;"}]),l.insertBefore(p,null),l.insertBefore(m,null),N=m.getBBox().width,p.setAttribute("width",N)),v=g.x-x.x,y=g.y-x.y,b=(x.x+g.x)/2,w=(x.y+g.y)/2,_.shape){case"-":break;case"~":k.setAttribute("d","M "+x.x+","+x.y+" c "+.7*v+", 0 "+.3*v+", "+y+" "+v+", "+y);break;case"-~":k.setAttribute("d","M "+x.x+","+x.y+" c "+.7*v+", 0 "+v+", "+y+" "+v+", "+y),_.label&&(b=x.x+.75*(g.x-x.x));break;case"~-":k.setAttribute("d","M "+x.x+","+x.y+" c 0, 0 "+.3*v+", "+y+" "+v+", "+y),_.label&&(b=x.x+.25*(g.x-x.x));break;case"-|":k.setAttribute("d","m "+x.x+","+x.y+" "+v+",0 0,"+y),_.label&&(b=g.x);break;case"|-":k.setAttribute("d","m "+x.x+","+x.y+" 0,"+y+" "+v+",0"),_.label&&(b=x.x);break;case"-|-":k.setAttribute("d","m "+x.x+","+x.y+" "+v/2+",0 0,"+y+" "+v/2+",0");break;case"->":k.setAttribute("style","marker-end:url(#arrowhead);stroke:#0041c4;stroke-width:1;fill:none");break;case"~>":k.setAttribute("style","marker-end:url(#arrowhead);stroke:#0041c4;stroke-width:1;fill:none"),k.setAttribute("d","M "+x.x+","+x.y+" c "+.7*v+", 0 "+.3*v+", "+y+" "+v+", "+y);break;case"-~>":k.setAttribute("style","marker-end:url(#arrowhead);stroke:#0041c4;stroke-width:1;fill:none"),k.setAttribute("d","M "+x.x+","+x.y+" c "+.7*v+", 0 "+v+", "+y+" "+v+", "+y),_.label&&(b=x.x+.75*(g.x-x.x));break;case"~->":k.setAttribute("style","marker-end:url(#arrowhead);stroke:#0041c4;stroke-width:1;fill:none"),k.setAttribute("d","M "+x.x+","+x.y+" c 0, 0 "+.3*v+", "+y+" "+v+", "+y),_.label&&(b=x.x+.25*(g.x-x.x));break;case"-|>":k.setAttribute("style","marker-end:url(#arrowhead);stroke:#0041c4;stroke-width:1;fill:none"),k.setAttribute("d","m "+x.x+","+x.y+" "+v+",0 0,"+y),_.label&&(b=g.x);break;case"|->":k.setAttribute("style","marker-end:url(#arrowhead);stroke:#0041c4;stroke-width:1;fill:none"),k.setAttribute("d","m "+x.x+","+x.y+" 0,"+y+" "+v+",0"),_.label&&(b=x.x);break;case"-|->":k.setAttribute("style","marker-end:url(#arrowhead);stroke:#0041c4;stroke-width:1;fill:none"),k.setAttribute("d","m "+x.x+","+x.y+" "+v/2+",0 0,"+y+" "+v/2+",0");break;case"<->":k.setAttribute("style","marker-end:url(#arrowhead);marker-start:url(#arrowtail);stroke:#0041c4;stroke-width:1;fill:none");break;case"<~>":k.setAttribute("style","marker-end:url(#arrowhead);marker-start:url(#arrowtail);stroke:#0041c4;stroke-width:1;fill:none"),k.setAttribute("d","M "+x.x+","+x.y+" c "+.7*v+", 0 "+.3*v+", "+y+" "+v+", "+y);break;case"<-~>":k.setAttribute("style","marker-end:url(#arrowhead);marker-start:url(#arrowtail);stroke:#0041c4;stroke-width:1;fill:none"),k.setAttribute("d","M "+x.x+","+x.y+" c "+.7*v+", 0 "+v+", "+y+" "+v+", "+y),_.label&&(b=x.x+.75*(g.x-x.x));break;case"<-|>":k.setAttribute("style","marker-end:url(#arrowhead);marker-start:url(#arrowtail);stroke:#0041c4;stroke-width:1;fill:none"),k.setAttribute("d","m "+x.x+","+x.y+" "+v+",0 0,"+y),_.label&&(b=g.x);break;case"<-|->":k.setAttribute("style","marker-end:url(#arrowhead);marker-start:url(#arrowtail);stroke:#0041c4;stroke-width:1;fill:none"),k.setAttribute("d","m "+x.x+","+x.y+" "+v/2+",0 0,"+y+" "+v/2+",0");break;default:k.setAttribute("style","fill:none;stroke:#F00;stroke-width:1")}_.label&&(m.setAttribute("x",b),m.setAttribute("y",w+3),p.setAttribute("x",b-N/2),p.setAttribute("y",w-5))}for(u in E)u===u.toLowerCase()&&E[u].x>0&&(p=s(["rect",{y:E[u].y-4,height:8,style:"fill:#FFF;"}]),m=s(["text",{style:"font-size:8px;",x:E[u].x,y:E[u].y+2,"text-anchor":"middle"},u+""]),l.insertBefore(p,null),l.insertBefore(m,null),N=m.getBBox().width+2,p.setAttribute("x",E[u].x-N/2),p.setAttribute("width",N))}}},{"./create-element":2,"./w3":31,tspan:35}],24:[function(e,t,r){"use strict";var n=e("./create-element");function s(e,t){var r,n,o;for(t.xmax=Math.max(t.xmax,t.x),r=t.y,o=e.length,n=1;n<o;n++)"[object Array]"===Object.prototype.toString.call(e[n])?t=s(e[n],{x:t.x+1,y:t.y,xmax:t.xmax}):(e[n]={name:e[n],x:t.x+1,y:t.y},t.y+=2);return e[0]={name:e[0],x:t.x,y:Math.round((r+(t.y-2))/2)},t.x--,t}function o(e,t){var r,n,s,a,i,l=["g"],c=[];if("[object Array]"===Object.prototype.toString.call(e)){for(n=e.length,c.push(e[0].name),c.push([32*(t-e[0].x),8*e[0].y]),r=1;r<n;r++)"[object Array]"===Object.prototype.toString.call(e[r])?c.push([32*(t-e[r][0].x),8*e[r][0].y]):c.push([32*(t-e[r].x),8*e[r].y]);for(l.push(function(e){var t,r,n,s,o,a,i,l,c,u=["g"],d=[],f=e.length;for(t=2;t<f;t++)d.push(e[t][1]);for(r=Math.min.apply(null,d),n=Math.max.apply(null,d),u.push(["g",{transform:"translate(16,0)"},["path",{d:"M  "+e[2][0]+","+r+" "+e[2][0]+","+n,class:"wire"}]]),t=2;t<f;t++)u.push(["g",["path",{d:"m  "+e[t][0]+","+e[t][1]+" 16,0",class:"wire"}]]);return u.push(["g",{transform:"translate("+e[1][0]+","+e[1][1]+")"},["title",e[0]],(s=e[0],o=r-e[1][1],a=n-e[1][1],c=" M 4,0 C 4,1.1 3.1,2 2,2 0.9,2 0,1.1 0,0 c 0,-1.1 0.9,-2 2,-2 1.1,0 2,0.9 2,2 z",a===o&&(a=4,o=-4),l={BUF:1,INV:1,AND:"&",NAND:"&",OR:"≥1",NOR:"≥1",XOR:"=1",XNOR:"=1",box:""}[s],(i={"~":"M -11,-6 -11,6 0,0 z m -5,6 5,0"+c,"=":"M -11,-6 -11,6 0,0 z m -5,6 5,0","&":"m -16,-10 5,0 c 6,0 11,4 11,10 0,6 -5,10 -11,10 l -5,0 z","~&":"m -16,-10 5,0 c 6,0 11,4 11,10 0,6 -5,10 -11,10 l -5,0 z"+c,"|":"m -18,-10 4,0 c 6,0 12,5 14,10 -2,5 -8,10 -14,10 l -4,0 c 2.5,-5 2.5,-15 0,-20 z","~|":"m -18,-10 4,0 c 6,0 12,5 14,10 -2,5 -8,10 -14,10 l -4,0 c 2.5,-5 2.5,-15 0,-20 z"+c,"^":"m -21,-10 c 1,3 2,6 2,10 m 0,0 c 0,4 -1,7 -2,10 m 3,-20 4,0 c 6,0 12,5 14,10 -2,5 -8,10 -14,10 l -4,0 c 1,-3 2,-6 2,-10 0,-4 -1,-7 -2,-10 z","~^":"m -21,-10 c 1,3 2,6 2,10 m 0,0 c 0,4 -1,7 -2,10 m 3,-20 4,0 c 6,0 12,5 14,10 -2,5 -8,10 -14,10 l -4,0 c 1,-3 2,-6 2,-10 0,-4 -1,-7 -2,-10 z"+c,"+":"m -8,5 0,-10 m -5,5 10,0 m 3,0 c 0,4.418278 -3.581722,8 -8,8 -4.418278,0 -8,-3.581722 -8,-8 0,-4.418278 3.581722,-8 8,-8 4.418278,0 8,3.581722 8,8 z","*":"m -4,4 -8,-8 m 0,8 8,-8 m 4,4 c 0,4.418278 -3.581722,8 -8,8 -4.418278,0 -8,-3.581722 -8,-8 0,-4.418278 3.581722,-8 8,-8 4.418278,0 8,3.581722 8,8 z"}[s])?["path",{class:"gate",d:i}]:l?["g",["path",{class:"gate",d:"m -16,"+(o-3)+" 16,0 0,"+(a-o+6)+" -16,0 z"+({INV:1,NAND:1,NOR:1,XNOR:1}[s]?c:"")}],["text",["tspan",{x:"-14",y:"4",class:"wirename"},l+""]]]:["text",["tspan",{x:"-14",y:"4",class:"wirename"},s+""]])]),u}(c)),r=1;r<n;r++)l.push(o(e[r],t))}else i=e.name,s=32*(t-e.x),a=8*e.y,l.push(["g",{transform:"translate("+s+","+a+")"},["title",i],["path",{d:"M 2,0 a 2,2 0 1 1 -4,0 2,2 0 1 1 4,0 z"}],["text",["tspan",{x:"-4",y:"4",class:"pinname"},i]]]);return l}t.exports=function(e,t){var r,a,i,l,c,u,d,f,h,m,p=["g"],x=["g"];for(f=t.assign.length,a={x:0,y:2,xmax:0},r=t.assign,d=0;d<f;d++)(a=s(r[d],a)).x++;for(i=a.xmax+3,d=0;d<f;d++)p.push(o(r[d],i));for(c=32*(i+1)+1,u=8*(a.y+1)-7,f=4*(i+1),m=a.y+1,d=0;d<=f;d++)for(h=0;h<=m;h++)x.push(["rect",{height:1,width:1,x:8*d-.5,y:8*h-.5,class:"grid"}]);(l=document.getElementById("svgcontent_"+e)).setAttribute("viewBox","0 0 "+c+" "+u),l.setAttribute("width",c),l.setAttribute("height",u),l.insertBefore(n(["g",{transform:"translate(0.5, 0.5)"},x,p]),null)}},{"./create-element":2}],25:[function(e,t,r){"use strict";var n=e("./w3");t.exports=function(e,t,r,s){var o,a,i,l,c,u,d,f,h=[];if(t)for(o in(a=document.createElementNS(n.svg,"g")).id="wavegaps_"+r,e.insertBefore(a,null),d=!1,t)if(s.period=t[o].period?t[o].period:1,s.phase=(t[o].phase?2*t[o].phase:0)+s.xmin_cfg,(i=document.createElementNS(n.svg,"g")).id="wavegap_"+o+"_"+r,i.setAttribute("transform","translate(0,"+(s.y0+o*s.yo)+")"),a.insertBefore(i,null),u=t[o].wave)for(h=u.split(""),c=0;h.length;)"<"===(f=h.shift())&&(d=!0,f=h.shift()),">"===f&&(d=!1,f=h.shift()),c+=d?1:2*s.period,"|"===f&&((l=document.createElementNS(n.svg,"use")).setAttributeNS(n.xlink,"xlink:href","#gap"),l.setAttribute("transform","translate("+s.xs*((c-(d?0:s.period))*s.hscale-s.phase)+")"),i.insertBefore(l,null))}},{"./w3":31}],26:[function(e,t,r){"use strict";var n=e("tspan");t.exports=function(e,t,r){var s,o,a,i=["g"];return e.forEach(function(e,l){i.push(["path",{id:"group_"+l+"_"+t,d:"m "+(e.x+.5)+","+(e.y*r.yo+3.5+r.yh0+r.yh1)+" c -3,0 -5,2 -5,5 l 0,"+(e.height*r.yo-16)+" c 0,3 2,5 5,5",style:"stroke:#0041c4;stroke-width:1;fill:none"}]),void 0!==e.name&&(s=e.x-10,o=r.yo*(e.y+e.height/2)+r.yh0+r.yh1,(a=n.parse(e.name)).unshift("text",{"text-anchor":"middle",class:"info","xml:space":"preserve"}),i.push(["g",{transform:"translate("+s+","+o+")"},["g",{transform:"rotate(270)"},a]]))}),i}},{tspan:35}],27:[function(e,t,r){"use strict";var n=e("tspan"),s=e("./create-element");t.exports=function(e,t,r,o){var a,i,l,c,u,d;function f(e,t,r){var o;e[t]&&e[t].text&&((o=n.parse(e[t].text)).unshift("text",{x:e.xmax*e.xs/2,y:r,"text-anchor":"middle",fill:"#000","xml:space":"preserve"}),o=s(o),i.insertBefore(o,null))}function h(e,t,r,o,l,c,u){var d,f,h,m,p=1,x=0,g=[];if(void 0!==e[t]&&void 0!==e[t][r]){if("string"==typeof(h=e[t][r]))h=h.split(" ");else if("number"==typeof h||"boolean"==typeof h)for(f=Number(h),h=[],a=0;a<u;a+=1)h.push(a+f);if("[object Array]"===Object.prototype.toString.call(h)&&0!==h.length){if(1===h.length)if(f=Number(h[0]),isNaN(f))g=h;else for(a=0;a<u;a+=1)g[a]=a+f;else if(2===h.length)if(f=Number(h[0]),p=Number(h[1]),2===(m=h[1].split(".")).length&&(x=m[1].length),isNaN(f)||isNaN(p))g=h;else for(f*=p,a=0;a<u;a+=1)g[a]=(p*a+f).toFixed(x);else g=h;for(a=0;a<u;a+=1)m=g[a],(d=n.parse(m)).unshift("text",{x:a*l+o,y:c,"text-anchor":"middle",class:"muted","xml:space":"preserve"}),d=s(d),i.insertBefore(d,null)}}}for(u=(c=2*o.hscale)*o.xs,l=o.xmax/c,d=t.length*o.yo,i=s(["g",{id:"gmarks_"+r}]),e.insertBefore(i,e.firstChild),a=0;a<l+1;a+=1)i.insertBefore(s(["path",{id:"gmark_"+a+"_"+r,d:"m "+a*u+",0 0,"+d,style:"stroke:#888;stroke-width:0.5;stroke-dasharray:1,3"}]),null);f(o,"head",o.yh0?-33:-13),f(o,"foot",d+(o.yf0?45:25)),h(o,"head","tick",0,u,-5,l+1),h(o,"head","tock",u/2,u,-5,l),h(o,"foot","tick",0,u,d+15,l+1),h(o,"foot","tock",u/2,u,d+15,l)}},{"./create-element":2,tspan:35}],28:[function(e,t,r){"use strict";var n=e("./create-element"),s=e("bit-field/lib/render");t.exports=function(e,t,r){for(;r.childNodes.length;)r.removeChild(r.childNodes[0]);var o=s(t.reg,t.config),a=n(o);r.insertBefore(a,null)}},{"./create-element":2,"bit-field/lib/render":34}],29:[function(e,t,r){"use strict";var n=e("./rec"),s=e("./lane"),o=e("./create-element"),a=e("./parse-config"),i=e("./parse-wave-lanes"),l=e("./render-marks"),c=e("./render-gaps"),u=e("./render-groups"),d=e("./render-wave-lane"),f=e("./render-assign"),h=e("./render-reg"),m=e("./render-arcs"),p=e("./insert-svg-template"),x=e("./insert-svg-template-assign");t.exports=function(e,t,r){var g,v,y,b,w,k,N,A,_,E=0;if(t.signal){for(_ in p(e,document.getElementById(r+e),t,s),a(t,s),g=n(t.signal,{x:0,y:0,xmax:0,width:[],lanes:[],groups:[]}),v=document.getElementById("lanes_"+e),y=document.getElementById("groups_"+e),w=i(g.lanes,s),A=d(v,w,e,s))E=Math.max(E,A[_]+g.width[_]);l(v,w,e,s),m(v,g.lanes,e,t,s),c(v,g.lanes,e,s),y.insertBefore(o(u(g.groups,e,s)),null),s.xg=Math.ceil((E-s.tgo)/s.xs)*s.xs,k=s.xg+s.xs*(s.xmax+1),N=w.length*s.yo+s.yh0+s.yh1+s.yf0+s.yf1,(b=document.getElementById("svgcontent_"+e)).setAttribute("viewBox","0 0 "+k+" "+N),b.setAttribute("width",k),b.setAttribute("height",N),b.setAttribute("overflow","hidden"),v.setAttribute("transform","translate("+(s.xg+.5)+", "+(s.yh0+s.yh1+.5)+")")}else t.assign?(x(e,document.getElementById(r+e),t),f(e,t)):t.reg&&h(e,t,document.getElementById(r+e))}},{"./create-element":2,"./insert-svg-template":11,"./insert-svg-template-assign":10,"./lane":17,"./parse-config":18,"./parse-wave-lanes":20,"./rec":22,"./render-arcs":23,"./render-assign":24,"./render-gaps":25,"./render-groups":26,"./render-marks":27,"./render-reg":28,"./render-wave-lane":30}],30:[function(e,t,r){"use strict";var n=e("tspan"),s=e("./create-element"),o=e("./w3"),a=e("./find-lane-markers");t.exports=function(e,t,r,i){var l,c,u,d,f,h,m,p,x,g=[1],v=0,y=[];for(c=0;c<t.length;c+=1)if((p=t[c][0][0])&&(d=s(["g",{id:"wavelane_"+c+"_"+r,transform:"translate(0,"+(i.y0+c*i.yo)+")"}]),e.insertBefore(d,null),(h=n.parse(p)).unshift("text",{x:i.tgo,y:i.ym,class:"info","text-anchor":"end","xml:space":"preserve"}),h=s(h),d.insertBefore(h,null),y.push(h.getBBox().width),x=(x=t[c][0][1])>0?Math.ceil(2*x)-2*x:-2*x,f=s(["g",{id:"wavelane_draw_"+c+"_"+r,transform:"translate("+x*i.xs+", 0)"}]),d.insertBefore(f,null),t[c][1])){for(l=0;l<t[c][1].length;l+=1)(m=document.createElementNS(o.svg,"use")).setAttributeNS(o.xlink,"xlink:href","#"+t[c][1][l]),m.setAttribute("transform","translate("+l*i.xs+")"),f.insertBefore(m,null);if(t[c][2]&&t[c][2].length&&0!==(g=a(t[c][1])).length)for(u in g)t[c][2]&&void 0!==t[c][2][u]&&((h=n.parse(t[c][2][u])).unshift("text",{x:g[u]*i.xs+i.xlabel,y:i.ym,"text-anchor":"middle","xml:space":"preserve"}),h=s(h),f.insertBefore(h,null));t[c][1].length>v&&(v=t[c][1].length)}return i.xmax=Math.min(v,i.xmax_cfg-i.xmin_cfg),i.xg=20,y}},{"./create-element":2,"./find-lane-markers":5,"./w3":31,tspan:35}],31:[function(e,t,r){"use strict";t.exports={svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/XML/1998/namespace"}},{}],32:[function(e,t,r){"use strict";window.WaveDrom=window.WaveDrom||{};var n=e("./");window.WaveDrom.ProcessAll=n.processAll,window.WaveDrom.RenderWaveForm=n.renderWaveForm,window.WaveDrom.EditorRefresh=n.editorRefresh,window.WaveDrom.eva=n.eva},{"./":9}],33:[function(e,t,r){"use strict";t.exports=window.WaveSkin},{}],34:[function(e,t,r){"use strict";var n=e("tspan");function s(e,t){return"translate("+e+","+t+")"}function o(e,t,r){var n=["line"],s={};return t?(s.x1=t,s.x2=t+e):s.x2=e,r&&(s.y1=r,s.y2=r),n.push(s),n}function a(e,t,r){var n=["line"],s={};return t&&(s.x1=t,s.x2=t),r?(s.y1=r,s.y2=r+e):s.y2=e,n.push(s),n}function i(e,t){return["g",{"text-anchor":"middle"},(r=e,o=t,a=o.hspace/o.mod,i=["g",{transform:s(a/2,o.vspace/5)}],l=["g",{transform:s(a/2,o.vspace/2+4)}],c=["g",{transform:s(a/2,o.vspace)}],u=["g",{transform:s(0,o.vspace/4)}],d=o.fontsize,f=o.fontfamily,h=o.fontweight,r.forEach(function(e){var t,r,s,m,p,x;if(s=0,m=o.mod-1,p=o.index*o.mod,x=(o.index+1)*o.mod-1,e.lsb/o.mod>>0===o.index)s=e.lsbm,p=e.lsb,e.msb/o.mod>>0===o.index&&(x=e.msb,m=e.msbm);else{if(e.msb/o.mod>>0!==o.index)return;x=e.msb,m=e.msbm}i.push(["text",{x:a*(o.mod-s-1),"font-size":d,"font-family":f,"font-weight":h},p.toString()]),s!==m&&i.push(["text",{x:a*(o.mod-m-1),"font-size":d,"font-family":f,"font-weight":h},x.toString()]),e.name?((t=n.parse(e.name)).unshift({x:a*(o.mod-(m+s)/2-1),"font-size":d,"font-family":f,"font-weight":h}),t.unshift("text"),l.push(t)):u.push(["rect",{style:"fill-opacity:0.1",x:a*(o.mod-m-1),y:0,width:a*(m-s+1),height:o.vspace/2}]),e.attr&&((r=n.parse(e.attr)).unshift({x:a*(o.mod-(m+s)/2-1),"font-size":d,"font-family":f,"font-weight":h}),r.unshift("text"),c.push(r))}),["g",u,i,l,c])];var r,o,a,i,l,c,u,d,f,h}function l(e,t){var r=["g",{transform:s(4.5,(t.lanes-t.index-1)*t.vspace+.5)}];return r.push(function(e,t){var r=t.hspace,n=t.vspace,i=t.mod,l=["g",{stroke:"black","stroke-width":1,"stroke-linecap":"round",transform:s(0,n/4)}];l.push(o(r)),l.push(a(n/2)),l.push(o(r,0,n/2));var c=t.index*t.mod,u=t.mod;do{u===t.mod||e.some(function(e){return e.lsb===c})?l.push(a(n/2,u*(r/i))):(l.push(a(n/16,u*(r/i))),l.push(a(n/16,u*(r/i),7*n/16))),c++,u--}while(u);return l}(e,t)),r.push(i(e,t)),r}function c(e,t,r){return"number"==typeof e&&e>t?0|e:r}t.exports=function(e,t){(t="object"==typeof t?t:{}).vspace=c(t.vspace,19,80),t.hspace=c(t.hspace,39,640),t.lanes=c(t.lanes,0,2),t.bits=c(t.bits,4,32),t.fontsize=c(t.fontsize,5,14),t.bigendian=t.bigendian||!1,t.fontfamily=t.fontfamily||"sans-serif",t.fontweight=t.fontweight||"normal";var r,n=["svg",{xmlns:"http://www.w3.org/2000/svg",width:t.hspace+9,height:t.vspace*t.lanes+5,viewBox:[0,0,t.hspace+9,t.vspace*t.lanes+5].join(" ")}],s=0,o=t.bits/t.lanes;for(t.mod=0|o,e.forEach(function(e){e.lsb=s,e.lsbm=s%o,s+=e.bits,e.msb=s-1,e.msbm=e.msb%o}),r=0;r<t.lanes;r++)t.index=r,n.push(l(e,t));return n}},{tspan:35}],35:[function(e,t,r){"use strict";var n=e("./parse"),s=e("./reparse");t.exports={parse:n,reparse:s}},{"./parse":36,"./reparse":37}],36:[function(e,t,r){"use strict";var n=/<o>|<ins>|<s>|<sub>|<sup>|<b>|<i>|<tt>|<\/o>|<\/ins>|<\/s>|<\/sub>|<\/sup>|<\/b>|<\/i>|<\/tt>/;function s(e,t){t.add&&t.add.split(";").forEach(function(t){var r=t.split(" ");e[r[0]][r[1]]=!0}),t.del&&t.del.split(";").forEach(function(t){var r=t.split(" ");delete e[r[0]][r[1]]})}var o={"<o>":{add:"text-decoration overline"},"</o>":{del:"text-decoration overline"},"<ins>":{add:"text-decoration underline"},"</ins>":{del:"text-decoration underline"},"<s>":{add:"text-decoration line-through"},"</s>":{del:"text-decoration line-through"},"<b>":{add:"font-weight bold"},"</b>":{del:"font-weight bold"},"<i>":{add:"font-style italic"},"</i>":{del:"font-style italic"},"<sub>":{add:"baseline-shift sub;font-size .7em"},"</sub>":{del:"baseline-shift sub;font-size .7em"},"<sup>":{add:"baseline-shift super;font-size .7em"},"</sup>":{del:"baseline-shift super;font-size .7em"},"<tt>":{add:"font-family monospace"},"</tt>":{del:"font-family monospace"}};function a(e){return Object.keys(e).reduce(function(t,r){var n=Object.keys(e[r]);return n.length>0&&(t[r]=n.join(" ")),t},{})}t.exports=function(e){var t,r,i,l,c;if(void 0===e)return[];if("number"==typeof e)return[e+""];if("string"!=typeof e)return[e];for(r=[],t={"text-decoration":{},"font-weight":{},"font-style":{},"baseline-shift":{},"font-size":{},"font-family":{}};;){if(-1===(i=e.search(n)))return r.push(["tspan",a(t),e]),r;if(i>0&&(c=e.slice(0,i),r.push(["tspan",a(t),c])),l=e.match(n)[0],s(t,o[l]),0===(e=e.slice(i+l.length)).length)return r}}},{}],37:[function(e,t,r){"use strict";var n=e("./parse");t.exports=function(e){var t=e.createElement;function r(e,r){var n=e[0],s=e[1],o=Object.keys(s).reduce(function(e,t){var r,n;return e[null===(n=(r=t).match(/(\w+)-(\w)(\w+)/))?r:n[1]+n[2].toUpperCase()+n[3]]=s[t],e},{}),a=e[2];return s.key=r,t(n,o,a)}return function(e){return n(e).map(r)}}},{"./parse":36}]},{},[32]);